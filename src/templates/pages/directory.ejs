<%##
	locals: {
		directory: Record<string, Policy>,
	}
%>

<%
	const keys = Object.keys(directory).sort();
	const policies = [];
	for (const key of keys) {
		policies.push(directory[key]);
	}
%>

<%- include('../layout/head', {
	title: 'Policy Directory',
	backLink: true,
}); %>

<article class="directory">
	<ul class="directory__list">
		<% policies.forEach((policy, idx) => { %>
			<li class="directory__item">
				<%- include('../components/policy-summary', { policy, key: keys[idx] }); %>
			</li>
		<% }) %>
	</ul>
</article>

<%- include('../layout/foot'); %>
