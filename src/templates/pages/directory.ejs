<%##
	locals: {
		directory: Record<string, Policy>,
	}
%>

<%
	const keys = Object.keys(directory).sort();
	const policies = [];
	for (const key of keys) {
		policies.push(directory[key]);
	}
%>

<%- include('../layout/head', { title: 'Policy Directory' }); %>

<article class="directory">
	<div class="directory__layout">
		<h1 class="directory__title">Policy Directory</h1>

		<ul class="directory__list">
			<% policies.forEach((policy, idx) => { %>
				<li class="directory__item">
					<%- include('../components/policy-summary', { policy, key: keys[idx] }); %>
				</li>
			<% }) %>
		</ul>
	</div>
</article>

<%- include('../layout/foot'); %>
